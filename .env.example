# ===================================
# FA-MVP 環境變數配置檔案
# ===================================

# 🚨 重要：客戶端環境變數必須以 NEXT_PUBLIC_ 開頭
# 複製此檔案為 .env.local 並填入你的 API Key

# ===================================
# 🔑 必需設定 - Gemini AI API
# ===================================
# 從 Google AI Studio 獲取: https://aistudio.google.com/app/apikey
NEXT_PUBLIC_GOOGLE_AI_API_KEY=your_gemini_api_key_here

# ===================================
# 🎤 語音對話設定 (Live API)
# ===================================
# 使用正確的原生音訊模型
NEXT_PUBLIC_GEMINI_MODEL=gemini-2.5-flash-preview-native-audio-dialog
NEXT_PUBLIC_GEMINI_VOICE=Leda
NEXT_PUBLIC_GEMINI_LANGUAGE=zh-TW
NEXT_PUBLIC_GEMINI_SAMPLE_RATE=16000

# Live API 特定設定
NEXT_PUBLIC_LIVE_API_RESPONSE_MODALITIES=AUDIO
NEXT_PUBLIC_LIVE_API_MEDIA_RESOLUTION=MEDIA_RESOLUTION_MEDIUM

# ===================================
# 🎬 影片生成設定 (使用相同 API Key)
# ===================================
NEXT_PUBLIC_VEO2_MODEL=veo-2.0-generate-001
NEXT_PUBLIC_VEO2_ASPECT_RATIO=9:16
NEXT_PUBLIC_VEO2_DURATION_SECONDS=5
NEXT_PUBLIC_VEO2_PERSON_GENERATION=allow_adult

# ===================================
# 🔥 Firebase 設定 (可選)
# ===================================
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id

# ===================================
# ⚙️ 應用程式設定
# ===================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_VOICE_TIMEOUT_MS=5000
NEXT_PUBLIC_VOICE_RECONNECT_ATTEMPTS=5
NEXT_PUBLIC_VOICE_QUALITY_CHECK_INTERVAL=30000

# ===================================
# 🧠 Prompt Engineering 設定
# ===================================
NEXT_PUBLIC_ENABLE_PROMPT_OPTIMIZATION=true
NEXT_PUBLIC_PROMPT_QUALITY_THRESHOLD=0.7
NEXT_PUBLIC_MAX_CONVERSATION_HISTORY=50

# ===================================
# 📱 社群分享設定
# ===================================
NEXT_PUBLIC_ENABLE_FACEBOOK_SHARING=true
NEXT_PUBLIC_ENABLE_LINE_SHARING=true
NEXT_PUBLIC_FACEBOOK_APP_ID=your_facebook_app_id

# ===================================
# 🐛 錯誤追蹤設定 (可選)
# ===================================
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn

# ===================================
# 📖 使用說明
# ===================================
# 1. 複製此檔案為 .env.local
# 2. 訪問 https://aistudio.google.com/app/apikey 獲取 Gemini API Key
# 3. 將 your_gemini_api_key_here 替換為你的實際 API Key
# 4. 如果遇到 404 錯誤，嘗試不同的模型版本
# 5. 重啟開發伺服器：npm run dev
# 6. 部署到 Vercel 時，在 Vercel Dashboard 設定環境變數

# ===================================
# ⚠️ 安全注意事項
# ===================================
# - 不要將 .env.local 提交到 Git
# - NEXT_PUBLIC_ 變數會暴露給瀏覽器，請確保不包含敏感資訊
# - Gemini API Key 已加入 NEXT_PUBLIC_ 是因為語音功能需要在客戶端使用
# - 生產環境務必設定 API 使用限制和監控

# ===================================
# 🚀 Vercel 部署環境變數
# ===================================
# 在 Vercel Dashboard > Project Settings > Environment Variables 設定：
#
# NEXT_PUBLIC_GOOGLE_AI_API_KEY=your_actual_api_key
# NEXT_PUBLIC_GEMINI_MODEL=gemini-2.5-flash-preview-native-audio-dialog
# NEXT_PUBLIC_GEMINI_VOICE=Leda
# NEXT_PUBLIC_GEMINI_LANGUAGE=zh-TW
# NEXT_PUBLIC_APP_URL=https://your-domain.vercel.app
#
# 其他變數可保持預設值或根據需要調整

# ===================================
# 🔧 故障排除
# ===================================
# 如果遇到 Live API 連接問題：
# 1. 確認 API Key 有效且有權限使用 Live API
# 2. 檢查網路連接是否穩定
# 3. 確認瀏覽器支援 WebSocket 和 WebRTC
# 4. 檢查麥克風權限是否已授權
# 5. 查看瀏覽器控制台是否有錯誤訊息

# ===================================
# 🎯 原生音訊模型說明
# ===================================
# 如果遇到 404 錯誤，請按順序嘗試以下模型：

# 選項 1（推薦 - 原生音訊）:
# NEXT_PUBLIC_GEMINI_MODEL=gemini-2.5-flash-preview-native-audio-dialog

# 選項 2（原生音訊 + 思考）:
# NEXT_PUBLIC_GEMINI_MODEL=gemini-2.5-flash-exp-native-audio-thinking-dialog

# 選項 3（標準 Live API）:
# NEXT_PUBLIC_GEMINI_MODEL=gemini-2.0-flash-live-001

# 選項 4（備用 Live API）:
# NEXT_PUBLIC_GEMINI_MODEL=gemini-2.0-flash-live-preview-04-09

# 注意：原生音訊模型需要使用 v1alpha API 版本
# 如果所有模型都失敗，請檢查：
# 1. API Key 是否有效
# 2. 是否有權限使用 Live API
# 3. 網路連接是否正常

# ===================================
# 🧪 測試和除錯
# ===================================
# 使用以下頁面測試配置：
# - /env-check - 環境變數檢查
# - /voice-test-debug - Live API 連接測試
# - /voice-chat?template=daily-life - 語音對話測試